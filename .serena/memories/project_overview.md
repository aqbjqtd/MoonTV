# MoonTV 项目概览

**记忆类型**: 项目概览  
**创建时间**: 2025-12-12  
**最后更新**: 2025-12-12  
**版本**: v1.0.0  
**重要性**: 高  
**相关记忆**: 技术架构, 开发规范, 部署配置  
**语义标签**: 项目介绍, 目标, 状态, 概述  
**索引关键词**: MoonTV, Next.js, 影视聚合, PWA, TVBox

## 概述

MoonTV 是一个开箱即用的、跨平台的影视聚合播放器。基于 **Next.js 14** + **Tailwind CSS** + **TypeScript** 构建，支持多资源搜索、在线播放、收藏同步、播放记录、本地/云端存储，让你可以随时随地畅享海量免费影视内容。

## 项目状态

- **当前版本**: 3.6.2 (2025-12-09)
- **项目状态**: 活跃开发中
- **代码仓库**: https://github.com/stardm0/MoonTV
- **上游项目**: https://github.com/MoonTechLab/LunaTV
- **许可证**: MIT

## 核心目标

1. **跨平台体验**: 支持 Web、PWA、TVBox 等多种使用方式
2. **多源聚合**: 聚合多个视频源的搜索和播放能力
3. **数据同步**: 支持多端收藏和播放记录同步
4. **简易部署**: 支持 Vercel、Docker、Cloudflare Pages 等多种部署方式
5. **现代化技术栈**: 使用最新的前端技术和开发实践

## 功能特性

### 核心功能

- 🔍 **多源聚合搜索**: 快速返回多个视频源的搜索结果
- 📄 **丰富详情页**: 支持剧集列表、演员、年份、简介等完整信息展示
- ▶️ **流畅在线播放**: 集成 HLS.js & ArtPlayer 播放器
- ❤️ **收藏 + 继续观看**: 支持 Redis/Upstash 存储，多端同步进度
- 📱 **PWA 支持**: 离线缓存、安装到桌面/主屏，移动端原生体验

### 高级功能

- 🌗 **响应式布局**: 桌面侧边栏 + 移动底部导航，自适应各种屏幕尺寸
- 🚀 **极简部署**: 一条 Docker 命令即可将完整服务跑起来
- 👿 **智能去广告**: 自动跳过视频中的切片广告（实验性）
- 💬 **弹幕支持**: 集成弹幕功能，增强观看互动性
- 📺 **TVBox 生态**: 支持 TVBox 播放器生态集成

## 技术特点

### 架构设计

- **前端框架**: Next.js 14 (App Router 架构)
- **开发语言**: TypeScript 4.9.5 (严格模式)
- **样式框架**: Tailwind CSS 3.4.17
- **包管理器**: pnpm 10.14.0
- **Node.js 版本**: 20.x

### 存储抽象层

支持多种存储后端，提供统一的存储接口：

1. **LocalStorage** - 浏览器本地存储
2. **Redis 4.6.7** - 自托管缓存
3. **Upstash Redis 1.25.0** - 云端缓存
4. **Cloudflare D1** - 无服务器 SQLite

### 播放器支持

- ArtPlayer 5.2.5 (主播放器)
- HLS.js 1.6.6 (HLS 流媒体支持)
- Vidstack 0.6.15 (现代播放器组件)
- @vidstack/react 1.12.13 (React 播放器组件)

## 项目结构

```
MoonTV/
├── src/                    # 源代码目录
│   ├── app/              # App Router页面
│   ├── components/       # React组件库
│   ├── lib/             # 核心业务逻辑
│   └── styles/          # 样式文件
├── public/               # 静态资源
├── scripts/             # 构建和部署脚本
├── Dockerfile           # Docker构建配置
└── 配置文件...
```

## 部署平台支持

- **Vercel**: 完全支持，推荐使用
- **Docker**: 完全支持，提供预构建镜像
- **Cloudflare Pages**: 支持，需要设置兼容性标志
- **Netlify**: 支持，推荐使用
- **自托管**: 支持，需要 Node.js 环境

## 使用场景

### 个人使用

- 个人影视聚合播放器
- 多设备观看进度同步
- 离线观看缓存

### 团队使用

- 内部影视资源管理
- 多用户收藏分享
- 统一播放体验

### 开发者

- 学习 Next.js 14 最佳实践
- 研究 PWA 和 TVBox 集成
- 参考存储抽象层设计

## 注意事项

### 重要提醒

1. **部署后为空壳项目**: 无内置播放源，需要自行收集视频源配置
2. **弹幕功能**: 需要自行部署弹幕后端服务
3. **版权责任**: 项目仅提供搜索服务，不存储视频内容，用户需对使用行为负责
4. **安全要求**: 生产环境必须设置管理员密码，建议关闭公网注册功能

### 法律合规

- 请在法律允许范围内使用
- 建议仅供个人使用
- 禁止用于商业用途
- 遵守当地法律法规

## 快速开始

### 开发环境

```bash
# 克隆仓库
git clone https://github.com/stardm0/MoonTV.git
cd MoonTV

# 安装依赖
pnpm install

# 启动开发服务器
pnpm dev
```

### 生产部署

```bash
# 构建项目
pnpm build

# 启动生产服务器
pnpm start
```

## 相关资源

- **项目文档**: README.md
- **API 文档**: 项目内 API 路由文档
- **问题反馈**: GitHub Issues
- **社区交流**: GitHub Discussions

## 更新历史

- 2025-12-12: 创建项目概览记忆文件，基于项目记忆管理器新规则重构
- 2025-12-09: 项目版本升级到 3.6.2
- 2025-12-06: Docker 构建优化，构建上下文从 1.5GB 减少到 874KB
- 2025-12-05: v3.5.0 发布，日志系统升级，播放器现代化
- 2025-10-15: v3.4.0 发布，多存储后端支持，管理面板上线
